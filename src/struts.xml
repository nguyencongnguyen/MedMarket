<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
 
<struts>
 	<constant name="struts.devMode" value="false" />
 	<constant name="struts.ui.theme" value="ohsTheme" />
	<constant name="struts.ui.templateDir" value="template" />
	<constant name="struts.custom.i18n.resources" value="ApplicationResources" />
	<constant name="struts.ognl.allowStaticMethodAccess" value="true"/>
	
	<package name="main" namespace="/" extends="struts-default,json-default">
		<interceptors>
			<interceptor name="checklogin" class="loginInterceptor" />
			<interceptor-stack name="defaultLoginStack">
				<interceptor-ref name="defaultStack">
			     	<param name="exception.logEnabled">true</param>
			    	<param name="exception.logLevel">ERROR</param>
			    </interceptor-ref>
				<interceptor-ref name="checklogin" />
			</interceptor-stack>
			<interceptor-stack name="appDefaultStack">
				<interceptor-ref name="defaultStack">
			     	<param name="exception.logEnabled">true</param>
			    	<param name="exception.logLevel">ERROR</param>
			    </interceptor-ref>
			</interceptor-stack>
		</interceptors>
 
		<default-interceptor-ref name="appDefaultStack" />
		
		<global-results>
			<result name="login" type="redirect">/pages/login.jsp</result>
			<result name="error">/home/error</result>
		</global-results>

		<global-exception-mappings>
	 		<exception-mapping exception="java.lang.Exception" result="error" />
   		</global-exception-mappings>
   		
		<action name="register"
			class="userAction" method="register">
		    <result name="success">/pages/register.jsp</result>
		</action>
		
		<action name="registerSubmit"
			class="userAction" method="registerSubmit">
			<result name="success" type="redirectAction">/home/profile-help</result>
		    <result name="input">/pages/register.jsp</result>
		</action>
		
		
		
	</package>
	<package name="video" namespace="/video" extends="struts-default">
		<action name="view"
			class="videoAction" method="show" >
		    <result name="success">/pages/video.jsp</result>
		</action>
		<action name="play"
			class="videoAction" method="play" >
		    <result name="success">/pages/videoPlayer.jsp</result>
		</action>
	</package>
</struts>